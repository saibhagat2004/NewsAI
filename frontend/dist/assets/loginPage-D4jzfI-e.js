import{r as o,u as g,a as f,j as e,F as b,M as y,L as w,_ as j}from"./index-BZDwcFgR.js";const v=()=>{o.useEffect(()=>{const t=document.querySelector(".card");t&&(t.onmousemove=r=>{const s=t.getBoundingClientRect(),l=r.clientX-s.left,p=r.clientY-s.top;t.style.setProperty("--mouse-x",`${l}px`),t.style.setProperty("--mouse-y",`${p}px`)})},[]);const[a,i]=o.useState({username:"",password:""}),c=g(),{mutate:d,isPending:u,isError:m,error:x}=f({mutationFn:async({username:t,password:r})=>{try{const s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})}),l=await s.json();if(!s.ok)throw new Error(l.error||"Something went wrong")}catch(s){throw new Error(s)}},onSuccess:()=>{j.success("login successful"),c.invalidateQueries({queryKey:["authUser"]})}}),h=t=>{t.preventDefault(),d(a)},n=t=>{i({...a,[t.target.name]:t.target.value})};return e.jsx("div",{className:"hero bg-base-200 min-h-screen",children:e.jsxs("div",{className:"hero-content flex-col lg:flex-row",children:[e.jsxs("div",{className:"text-center lg:text-left min-w-20",children:[e.jsx("h1",{className:"text-5xl font-bold",children:"Fit Kit Guide"}),e.jsx("p",{className:"py-6 font-extrabold",children:"Unlock your full potential and take the first step towards a healthier, stronger you."})]}),e.jsx("div",{className:"card bg-base-100 w-full max-w-sm shrink-0 shadow-2xl lg:ml-auto",children:e.jsxs("form",{className:"card-body",onSubmit:h,children:[e.jsx("h1",{className:"text-4xl font-extrabold text-white",children:"Let's go."}),e.jsx("div",{className:"form-control my-2",children:e.jsx("label",{className:"label",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(b,{className:"absolute top-1/2 transform -translate-y-1/2 left-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"username",name:"username",onChange:n,value:a.username,className:"input input-bordered pl-10 w-full",style:{boxSizing:"border-box"},required:!0})]})})}),e.jsx("div",{className:"form-control my-2",children:e.jsx("label",{className:"label",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(y,{className:"absolute top-1/2 transform -translate-y-1/2 left-3 text-gray-400"}),e.jsx("input",{type:"password",placeholder:"password",name:"password",onChange:n,value:a.password,className:"input input-bordered pl-10 w-full",style:{boxSizing:"border-box"},required:!0})]})})}),e.jsxs("div",{className:"form-control mt-6 w-full",children:[e.jsx("button",{className:"btn bg-orange-gradient text-white hover:bg-orange-gradient-hover w-full",type:"submit",children:u?"Loading...":"Login"}),m&&e.jsx("p",{className:"text-red-500",children:x.message})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[e.jsxs("p",{className:"text-white text-lg",children:["Don't"," have an account?"]}),e.jsx(w,{to:"/signup",children:e.jsx("button",{className:"btn rounded-full btn-primary text-white btn-outline w-full",children:"Sign up"})})]})]})})]})})};export{v as default};
